# 🎮 区块链扫雷游戏 - 一键启动脚本使用说明

## 📋 概述

本项目提供了两个一键启动脚本，让您能够轻松启动和管理区块链扫雷游戏：

- **`一键启动.sh`** - macOS/Linux 版本
- **`一键启动.bat`** - Windows 版本

## 🚀 快速开始

### macOS/Linux 用户

1. 打开终端
2. 进入项目目录
3. 运行脚本：
   ```bash
   ./一键启动.sh
   ```

### Windows 用户

1. 双击 `一键启动.bat` 文件
2. 或在命令提示符中运行：
   ```cmd
   一键启动.bat
   ```

## 🎯 功能特性

### 主要功能

1. **🚀 启动游戏（推荐）**
   - 自动检查环境
   - 安装必要依赖
   - 启动开发服务器
   - 在浏览器中打开游戏

2. **🔧 检查环境**
   - 验证 Node.js 和 npm 安装
   - 检查项目结构
   - 确认依赖安装状态
   - 提供详细的环境报告

3. **📦 重新安装依赖**
   - 清理旧的 node_modules
   - 重新安装前端依赖
   - 重新安装合约依赖
   - 解决依赖冲突问题

4. **🌐 启动区块链网络（高级用户）**
   - 启动本地 Hardhat 网络
   - 提供测试账户和 ETH
   - 支持智能合约部署和测试

5. **🧪 运行测试**
   - 前端测试（Playwright）
   - 智能合约测试（Hardhat）
   - 一键运行所有测试

6. **❓ 帮助说明**
   - 详细的使用指南
   - 常见问题解答
   - 技术要求说明

## 🔧 系统要求

### 基本要求

- **Node.js**: 版本 16.0 或更高
- **npm**: 随 Node.js 自动安装
- **现代浏览器**: Chrome、Firefox、Safari、Edge 等

### 操作系统支持

- **macOS**: 10.12 或更高版本
- **Windows**: 7 或更高版本
- **Linux**: 主流发行版

### 可选要求（区块链模式）

- **MetaMask 钱包**: 用于区块链交互
- **网络连接**: 用于下载依赖和连接测试网络

## 🎮 游戏模式

### 🏠 本地模式（推荐新手）

- ✅ 完全离线运行
- ✅ 数据保存在浏览器本地
- ✅ 支持右键标记功能
- ✅ 响应速度快
- ✅ 无需任何配置

### ⛓️ 区块链模式（高级用户）

- 🔗 需要 MetaMask 钱包
- 🔗 游戏数据存储在区块链
- 🔗 支持代币奖励（测试环境）
- 🔗 可与其他玩家竞技
- 🔗 需要测试网络连接

## 🛠️ 故障排除

### 常见问题

1. **启动失败**
   - 运行"检查环境"功能
   - 确保 Node.js 版本 >= 16
   - 尝试"重新安装依赖"

2. **依赖安装失败**
   - 检查网络连接
   - 清理 npm 缓存：`npm cache clean --force`
   - 使用国内镜像：`npm config set registry https://registry.npmmirror.com`

3. **端口被占用**
   - Vite 会自动寻找可用端口
   - 默认端口：5173，如被占用会使用 5174、5175 等

4. **浏览器不自动打开**
   - 手动访问控制台显示的地址
   - 通常是 `http://localhost:5173`

### 错误日志

脚本会自动记录错误信息到 `error.log` 文件，您可以查看详细的错误信息。

## 📁 项目结构

```
扫雷游戏/
├── frontend/           # 前端项目
│   ├── src/           # 源代码
│   ├── public/        # 静态资源
│   ├── package.json   # 前端依赖
│   └── vite.config.js # Vite 配置
├── contracts/         # 智能合约
│   ├── contracts/     # 合约源码
│   ├── scripts/       # 部署脚本
│   ├── test/         # 测试文件
│   ├── package.json  # 合约依赖
│   └── hardhat.config.js # Hardhat 配置
├── 一键启动.sh       # macOS/Linux 启动脚本
├── 一键启动.bat      # Windows 启动脚本
└── README.md         # 项目说明
```

## 🎯 使用技巧

1. **首次使用**：建议先运行"检查环境"确保系统配置正确
2. **网络问题**：如果下载依赖缓慢，可以配置 npm 镜像
3. **开发调试**：使用"启动区块链网络"进行合约开发和测试
4. **测试验证**：定期运行测试确保代码质量

## 🆘 获取帮助

如果遇到问题，您可以：

1. 查看脚本内置的帮助说明
2. 检查 `error.log` 文件
3. 访问项目 GitHub 页面
4. 提交 Issue 报告问题

## 💝 致谢

感谢使用区块链扫雷游戏！这是一个用爱心打造的可爱游戏项目。

如果您喜欢这个项目，请：
- ⭐ 给项目点个星星
- 🐛 报告问题和建议  
- 💝 分享给朋友们

---

**作者**: 青蛙会点头  
**版本**: 1.0.0  
**更新时间**: 2024年12月
